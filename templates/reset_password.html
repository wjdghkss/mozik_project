{% extends "base.html" %}

{% block body_class %}layout-default auth-page{% endblock %}

{% block content %}
<section class="auth-shell">
    <article class="auth-card">
        <div class="auth-card__badge">Password reset</div>
        <h2>새 비밀번호 설정</h2>

        {% if invalid %}
        <div class="auth-alert error">
            잘못되었거나 존재하지 않는 링크입니다.
        </div>
        {% elif expired %}
        <div class="auth-alert error">
            링크가 만료되었어요. 다시 비밀번호 찾기를 요청해주세요.
        </div>
        {% elif completed %}
        <div class="auth-alert success">
            비밀번호가 성공적으로 변경되었습니다. 이제 로그인해주세요.
        </div>
        <p class="auth-secondary">
            <a href="{{ url_for('login') }}">로그인 화면으로 이동</a>
        </p>
        {% else %}
        {% if error %}
        <div class="auth-alert error">
            {{ error }}
        </div>
        {% endif %}

        <p>계정: <strong>{{ email }}</strong></p>
        <form class="auth-form" method="POST">
            <div class="auth-field">
                <label for="password">새 비밀번호</label>
                <input id="password" name="password" type="password" required>
            </div>
            <div class="auth-field">
                <label for="confirm_password">비밀번호 확인</label>
                <input id="confirm_password" name="confirm_password" type="password" required>
            </div>
            <button class="auth-btn" type="submit">비밀번호 변경하기</button>
        </form>
        {% endif %}
    </article>
</section>
{% endblock %}




